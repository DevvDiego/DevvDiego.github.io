import{f as x,a as p,t as I}from"../chunks/LaR_1xaD.js";import{p as C,M as w,t as P,a as z,c as a,s as b,r as o,O as n,N as F,J}from"../chunks/CdN2SWA2.js";import{e as M}from"../chunks/DrgnjvF2.js";import{i as N}from"../chunks/TPp9-UXl.js";import{I as O}from"../chunks/DYbc0og1.js";import{a as j,c as q,A as B}from"../chunks/DkKd-2ZO.js";import{S as H}from"../chunks/DcgT0Act.js";var L=x('<span class="flex items-center"><svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Enviando...</span>'),R=x('<main class="container py-24 mx-auto p-4 max-w-4xl"><form class="space-y-6"><!> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="space-y-2"><!></div></div> <div class="flex gap-4 pt-4"><button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></form></main>');function X(y,h){C(h,!0);let i=w({password:""}),t=F(""),r=w({success:!1,error:!1,loading:!1});function f(){r.error=!1,r.success=!1}function _(){i.password=""}async function k(e){e.preventDefault(),r.loading=!0,f();try{const s=await j.post(`${q.API}/login`,JSON.stringify(i));n(t,s.message,!0),s.success?r.success=!0:r.error=!0,s.success&&sessionStorage.setItem("blog_jwt",s.data.token)}catch(s){r.error=!0,s instanceof B?(console.error(s.message),n(t,s.message,!0)):s instanceof Error?(console.error("Error enviando formulario:",s),n(t,s.message,!0)):(console.error("Unknown error captured during post loading: ",s),n(t,"An error ocurred"))}finally{_(),r.loading=!1}}var l=R(),c=a(l),m=a(c);H(m,{get error(){return r.error},get success(){return r.success},get details(){return J(t)},onclick:f});var d=b(m,2),g=a(d),A=a(g);O(A,{type:"password",id:"password",label:"Password",placeholder:"Password",isRequired:!0,get value(){return i.password},set value(e){i.password=e}}),o(g),o(d);var v=b(d,2),u=a(v),E=a(u);{var S=e=>{var s=L();p(e,s)},D=e=>{var s=I("Enviar");p(e,s)};N(E,e=>{r.loading?e(S):e(D,!1)})}o(u),o(v),o(c),o(l),P(()=>u.disabled=r.loading),M("submit",c,k),p(y,l),z()}export{X as component};
