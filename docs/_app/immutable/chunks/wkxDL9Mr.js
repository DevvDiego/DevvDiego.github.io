import{i as x,h as A,j as n,k as B,m as I,H as D,o as g,q as H,v as c,w as S,x as v,y as N,z as k,A as q,B as L,C as R,D as U,E as j,U as z}from"./CdN2SWA2.js";import{B as C}from"./Bnj52zIK.js";const T=0,_=1;function O(m,b,y,r,l){n&&B();var h=x(),t=z,i=h?N(t):k(t,!1,!1),o=h?N(t):k(t,!1,!1),s=new C(m);A(()=>{var u=b(),d=!1;let p=n&&I(u)===(m.data===D);if(p&&(g(H()),c(!1)),I(u)){var w=q(),E=!1;const a=e=>{if(!d){E=!0,w(!1),L.ensure(),n&&c(!1);try{e()}finally{R(),U||j()}}};u.then(e=>{a(()=>{v(i,e),s.ensure(_,r&&(f=>r(f,i)))})},e=>{a(()=>{if(v(o,e),s.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?s.ensure(T,y):S(()=>{E||a(()=>{s.ensure(T,y)})})}else v(i,u),s.ensure(_,r&&(a=>r(a,i)));return p&&c(!0),()=>{d=!0}})}export{O as a};
